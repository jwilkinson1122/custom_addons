<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="pod_encounter_view_form" model="ir.ui.view">
        <field name="name">pod.encounter.form</field>
        <field name="model">pod.encounter</field>
        <field
            name="inherit_id"
            ref="pod_administration_encounter.pod_encounter_view_form"
        />
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="inside">
                <button
                    type="action"
                    name="%(pod_encounter_device_action)s"
                    context="{'default_pod_id': active_id}"
                    class="oe_stat_button"
                    icon="fa-pills"
                    string="Add Device"
                    states="draft,arrived,in-progress"
                />
            </xpath>
            <notebook position="inside">
                <page name="device" string="Device">
                    <field name="device_item_ids" />
                </page>
            </notebook>
        </field>
    </record>
    <record id="pod_device_item_view_form" model="ir.ui.view">
        <field name="name">pod.device.item.form</field>
        <field name="model">pod.device.item</field>
        <field name="arch" type="xml">
            <form create="0">
                <group>
                    <field name="encounter_id" />
                    <field name="location_id" />
                    <field name="product_id" context="{'search_on_supplier': True}" />
                    <field name="categ_id" />
                    <field name="qty" />
                    <field name="price" />
                    <field name="amount" />
                </group>
            </form>
        </field>
    </record>
    <record id="pod_device_item_view_tree" model="ir.ui.view">
        <field name="name">pod.device.item.tree</field>
        <field name="model">pod.device.item</field>
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="categ_id" />
                <field name="product_id" context="{'search_on_supplier': True}" />
                <field name="qty" />
                <field name="price" />
                <field name="amount" sum="Total" />
                <field name="location_id" />
            </tree>
        </field>
    </record>
</odoo>
