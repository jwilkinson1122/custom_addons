<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="view_res_config_settings_form" model="ir.ui.view">
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="point_of_sale.res_config_settings_view_form" />
        <field name="arch" type="xml">
            <xpath expr="//block[@id='restaurant_section']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//block[@id='pos_payment_section']" position="before">
                <block title="Manufacturing Mode" id="manufacturing_section">
                    <setting id="floor_and_table_map" string="Floors &amp; Tables Map" help="Design floors and assign orders to tables" invisible="is_kiosk_mode or not pos_module_pos_manufacturing">
                        <div class="content-group">
                            <div class="mt16">
                                <label string="Floors" for="pos_floor_ids" class="o_light_label me-2"/>
                                <field name="pos_floor_ids" widget="many2many_tags" readonly="pos_has_active_session" />
                            </div>
                            <div>
                                <button name="%(pos_manufacturing.action_manufacturing_floor_form)d" icon="oi-arrow-right" type="action" string="Floors" class="btn-link"/>
                            </div>
                        </div>
                    </setting>
                    <setting string="Internal Notes" help="Add internal notes on order lines for the kitchen" id="iface_orderline_notes" invisible="not pos_module_pos_manufacturing">
                        <field name="pos_iface_orderline_notes"/>
                    </setting>
                    <setting string="Early Receipt Printing" help="Allow to print receipt before payment" id="iface_printbill" invisible="not pos_module_pos_manufacturing or is_kiosk_mode">
                        <field name="pos_iface_printbill"/>
                    </setting>
                    <setting help="Split total or order lines" id="iface_splitbill" invisible="not pos_module_pos_manufacturing or is_kiosk_mode">
                        <field name="pos_iface_splitbill" string="Allow Bill Splitting"/>
                    </setting>
                    <setting>
                        <field name="pos_module_pos_manufacturing" readonly="pos_has_active_session"/>
                        <div class="content-group" id="warning_text_pos_manufacturing" invisible="not pos_module_pos_manufacturing">
                            <div class="text-warning mt16 mb4">
                                        Save this page and come back here to set up the feature.
                            </div>
                        </div>
                    </setting>
                    <setting help="Online reservation for manufacturing" invisible="not pos_module_pos_manufacturing or is_kiosk_mode">
                        <field name="pos_module_pos_manufacturing_appointment" string="Table Booking" widget="upgrade_boolean" />
                        <div class="content-group" id="pos_table_booking" invisible="not pos_module_pos_manufacturing_appointment">
                            <div class="text-warning mt16 mb4">
                            Save this page and come back here to set up the feature.
                            </div>
                        </div>
                    </setting>
                </block>
                <div id="tip_product" position="after">
                    <div invisible="not pos_module_pos_manufacturing or not pos_iface_tipproduct">
                        <field name="pos_set_tip_after_payment" class="oe_inline"/>
                        <label class="fw-normal" for="pos_set_tip_after_payment" string="Add tip after payment"/>
                    </div>
                </div>
            </xpath>
            <xpath expr="//block[@id='pos_interface_section']" position="inside">
                <setting help="User can create and configure product modifiers">
                    <field name="pos_configure_product"/>
                </setting>
                <setting help="Enable draft sale order creation from previous order">
                    <field name="pos_allow_reorder"/>
                </setting>
                <setting help="Enable draft sale order creation">
                    <field name="pos_create_draft_sale_order"/>
                </setting>
                <setting help="Enable create confirmed sale order from draft sale order">
                    <field name="pos_create_confirmed_sale_order"/>
                </setting>
                <setting help="Enable create delivered sale order from confirmed sale order">
                    <field name="pos_create_delivered_sale_order"/>
                </setting>
                <setting help="Enable create invoiced sale order from delivered sale order">
                    <field name="pos_create_invoiced_sale_order"/>
                </setting>
            </xpath>

            <xpath expr="//setting[@id='auto_printing']" position="after">
                <setting id="pos_a4_receipt" string="A4 Receipt" help="Enable A4 receipt inside POS">
                    <field name="pos_a4_receipt"/>
                    <div invisible="not pos_a4_receipt">
                        <div class="row mb-2">
                            <field name="pos_a4_receipt_as_default" class="col-auto"/>
                            <div class="col">
                                <label for="pos_a4_receipt_as_default"/>
                                <div class="text-muted">Use A4 Receipt as default</div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <field name="pos_show_taxes" class="col-auto"/>
                            <div class="col">
                                <label for="pos_show_taxes"/>
                                <div class="text-muted">Show Taxes in Receipt</div>
                            </div>
                        </div>
                        <!-- Row for tracking -->
                        <!-- <span class="o_form_label">Tracking</span>
                        <div class="text-muted">Show Tracking in Receipt</div>
                        <div class="content-group mt16 row">
                            <label for="pos_tracking" string="Type" class="col-lg-3 o_light_label"/>
                            <field name="pos_tracking"/>
                        </div> -->
                    </div>
                </setting>
            </xpath>
        </field>
    </record>
</odoo>
