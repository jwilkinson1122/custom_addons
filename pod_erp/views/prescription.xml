<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="podiatry_prescription_view" model="ir.ui.view">
            <field name="name">Prescription</field>
            <field name="model">podiatry.prescription</field>
            <field name="arch" type="xml">
                <form string="Prescription">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="Draft,Confirm"/>
                        <button name="confirm_request" type="object" string="Confirm" class="oe_highlight" states="Draft"/>
                        <button name="open_customer" class="oe_highlight" states="Confirm" string="Create Sale Order" type="object"></button>
                        <button name="print_prescription_report_ticket_size" class="oe_highlight" string="Print Measure" type="object"></button>
                        <button name="print_podiatry_prescription_report_ticket_size" class="oe_highlight" string="Print Ophtalmologic" type="object"></button>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="customer" domain="[('company_id', '=', False)]" attrs="{'readonly': [('state','=','confirm')]}" required="1"/>
                                <field name="practice_id" attrs="{'readonly': [('state','=','confirm')]}" options='{"no_open": True, "no_create": True}' required="1"/>
                                <field name="practitioner_id" attrs="{'readonly': [('state','=','confirm')]}" options='{"no_open": True, "no_create": True}' required="1"/>
                                <field name="patient_id" attrs="{'readonly': [('state','=','confirm')]}" options='{"no_open": True, "no_create": True}' required="1"/>
                                <!-- <field name="company_id"/> -->
                                <!-- <field name="service_chargeable" attrs="{'readonly': [('state','=','confirm')]}" String="Service" required="1"/> -->
                                <field name="ship_to_patient" attrs="{'readonly': [('state','=','confirm')]}"/>

                            </group>
                            <group>
                                <field name="prescription_date" attrs="{'readonly': [('state','=','confirm')]}" string="Prescription Date" required="1"/>
                                <field name="device_type" attrs="{'readonly': [('state','=','confirm')]}" options='{"no_open": True, "no_create": True}' required="1"/>
                                <field name="prescription_type" attrs="{'readonly': [('state','=','confirm')]}" required="1"/>
                                <field name="priority"/>
                            </group>
                            <br/>
                            <field name="foot_selection" widget="radio" options="{'horizontal': true}"/>
                            <br/>

                        </group>
                        <!-- <group string="Patient Address" attrs="{'invisible': [('ship_to_patient','!=',True)]}">
                            <group>
                                <field name="street" attrs="{'invisible': [('ship_to_patient','!=',True)]}"/>
                                <field name="street2" invisible="1"/>
                                <field name="zip" attrs="{'invisible': [('ship_to_patient','!=',True)]}"/>
                                <field name="country_id" attrs="{'invisible': [('ship_to_patient','!=',True)]}"/>
                                <field name="state_id" attrs="{'invisible': [('ship_to_patient','!=',True)]}"/>
                            </group>
                        </group> -->


                        <!-- <field name="other_allergy" attrs="{'invisible': [('allergy', '!=', 'other')]}"/> -->
                        <notebook>
                            <page string="Measures">
                                <!-- <table cellspacing="0" cellpadding="0" style="border:1px solid; width:100% ">
                                    <tr>
                                        <td rowspan="2" style="text-align:center; padding:5px; font-size:14px; font-weight:bold; width:7%; border-right:1px solid black; border-bottom:1px solid black; background-color:#d2d2ff;"></td>
                                        <td style="text-align:center; padding:5px; font-size:14px; font-weight:bold; width:40%; border-right:1px solid black; border-bottom:1px solid black; background-color:#d2d2ff;">
                                            ORTHOTIC MEASURES
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:center;  font-size:12px; font-weight:bold; width:30%; border-right:1px solid black; border-bottom:1px solid black; font: Helvetica;">
                                            <table width="100%">
                                                <tr>
                                                    <td style="border-right:1px solid; width:20%; background-color:#d2d2ff;">FOREFOOT LENGTH</td>
                                                    <td style="border-right:1px solid; width:20%; background-color:#d2d2ff;">HEEL DEPTH</td>
                                                    <td style="border-right:1px solid; width:20%; background-color:#d2d2ff;">LENGTH</td>
                                                    <td style="width:20%; background-color:#d2d2ff;">CAP SIZE</td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:center; font-size:12px; font-weight:bold; width:7%; border-right:1px solid black; border-bottom:1px solid black; background-color:#d2d2ff;">
                                            LEFT FOOT
                                        </td>
                                        <td style="text-align:center; font-size:12px; font-weight:bold; width:30%; border-right:1px solid black; border-bottom:1px solid black;">
                                            <table width="100%">
                                                <tr>
                                                    <td style="border-right:1px solid;  height:25px; width:20%">
                                                        <span>
                                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_sph_distance"/>
                                                        </span>
                                                    </td>
                                                    <td t-if="od_cyl_distance" style="border-right:1px solid; width:20%">
                                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="os_cyl_distance"/>
                                                    </td>
                                                    <td style="border-right:1px solid; width:20%">
                                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="os_ax_distance"/>
                                                    </td>
                                                    <td style=" width:20%">
                                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="lt_cap_size"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:center; font-size:12px; font-weight:bold; width:5%; border-right:1px solid black; border-bottom:1px solid black; background-color:#d2d2ff;">
                                            RIGHT FOOT
                                        </td>
                                        <td style="text-align:center; font-size:12px; font-weight:bold; width:30%;">
                                            <table width="100%">
                                                <tr>
                                                    <td style="border-right:1px solid; border-bottom:1px solid; height:25px; width:15%; padding-left:8px; padding-right:8px; text-align:center; font-weight:bold">
                                                        <span>
                                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="od_sph_distance"/>
                                                        </span>
                                                    </td>
                                                    <td t-if="od_cyl_distance" style="border-right:1px solid; width:15%; border-bottom:1px solid; padding-left:8px; padding-right:8px; text-align:center; font-weight:bold">
                                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="od_cyl_distance"/>
                                                    </td>
                                                    <td style="border-right:1px solid; width:15%; border-bottom:1px solid; padding-left:8px; padding-right:8px; text-align:center;font-weight:bold">
                                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="od_ax_distance"/>
                                                    </td>
                                                    <td style=" width:15%; border-bottom:1px solid; padding-left:8px; padding-right:8px; text-align:center; font-weight:bold">
                                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="rt_cap_size"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                                <br/> -->

                                <!-- <group string="Private Room" attrs="{'invisible': [('pvt_rooms','!=',True)]}">
                                    <group>
                                        <field name="room_id" attrs="{'invisible': [('pvt_rooms','!=',True)]}"/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="room_rent" attrs="{'invisible': [('pvt_rooms','!=',True)]}"/>
                                        <field name="rent_amount" attrs="{'invisible': [('pvt_rooms','!=',True)]}"/>
                                        <field name="facilities_ids" attrs="{'invisible': [('pvt_rooms','!=',True)]}" widget="many2many_tags"/>
                                        <field name="admit_days" attrs="{'invisible': [('pvt_rooms','!=',True)]}"/>
                                    </group>
                                </group> -->

                                <!-- <field name="other_allergy" attrs="{'invisible': [('allergy', '!=', 'other')]}"/> -->

                                <table name="lt_measure_table" border="1" bordercolor="gray" style="width:100%" attrs="{'invisible': [('foot_selection', '!=', 'left_only')]}">
                                    <tr>
                                        <td style="width: 16%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">MEASURES</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">FOREFOOT LENGTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">HEEL DEPTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">LENGTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">CAP SIZE</td>
                                    </tr>
                                    <tr name="lt_pod_measure">
                                        <td style="padding:4px; text-align:center; font-weight:bold; background-color: #d8d8ff">FOOT (LT)</td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_sph_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_cyl_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="od_ax_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="lt_cap_size"/>
                                        </td>
                                    </tr>
                                </table>
                                <table name="rt_measure_table" border="1" bordercolor="gray" style="width:100%" attrs="{'invisible': [('foot_selection', '!=', 'right_only')]}">
                                    <tr>
                                        <td style="width: 16%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">MEASURES</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">FOREFOOT LENGTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">HEEL DEPTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">LENGTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">CAP SIZE</td>
                                    </tr>
                                    <tr name="rt_pod_measure">
                                        <td style="padding:4px; text-align:center; font-weight:bold; background-color: #d8d8ff">FOOT (RT)</td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_sph_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_cyl_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="od_ax_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="rt_cap_size"/>
                                        </td>
                                    </tr>
                                </table>
                                <table name="bl_measure_table" border="1" bordercolor="gray" style="width:100%" attrs="{'invisible': [('foot_selection', '!=', 'bilateral')]}">
                                    <tr>
                                        <td style="width: 16%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">MEASURES</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">FOREFOOT LENGTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">HEEL DEPTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">LENGTH</td>
                                        <td style="width: 12%; padding-left:8px; padding-right:8px; text-align:center; background-color:#d2d2ff; font-weight:bold">CAP SIZE</td>
                                    </tr>
                                    <tr name="lt_pod_measure">
                                        <td style="padding:4px; text-align:center; font-weight:bold; background-color: #d8d8ff">FOOT (LT)</td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_sph_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_cyl_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="od_ax_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="lt_cap_size"/>
                                        </td>
                                    </tr>
                                    <tr name="rt_pod_measure">
                                        <td style="padding:4px; text-align:center; font-weight:bold; background-color: #d8d8ff">FOOT (RT)</td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_sph_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="os_cyl_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="od_ax_distance"/>
                                        </td>
                                        <td style="padding:4px; text-align:center">
                                            <field attrs="{'readonly': [('state','=','confirm')]}" name="rt_cap_size"/>
                                        </td>
                                    </tr>
                                </table>

                                <br/>
                                <br/>
                                <group>
                                    <field attrs="{'readonly': [('state','=','confirm')]}" name="measure_notes" placeholder="Internal Notes"></field>
                                    <!-- <field attrs="{'readonly': [('state','=','confirm')]}" name="pathology_client" placeholder="Pathology Notes"></field>
                                    <field attrs="{'readonly': [('state','=','confirm')]}" name="internal_notes" placeholder="Internal Notes"></field>
                                    <field attrs="{'readonly': [('state','=','confirm')]}" name="practitioner_notes" placeholder="Practitioner Notes"></field> -->
                                </group>
                            </page>
                            <page string="Details">
                                <!-- <div class="row">
                                    <div class="col-8">
                                        <table cellspacing="0" cellpadding="0" style="border:1px solid; width:100% ">
                                            <thead>
                                                <tr>
                                                    <th rowspan="2" style="width:30%; border:1px solid black;"></th>
                                                    <th colspan="2" style="text-align:center; border:1px solid black;">With
                                                        Correction
                                                    </th>
                                                    <th colspan="2" style="text-align:center; border:1px solid black;">
                                                        Without Correction
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <th colspan="1" style="text-align:center; border:1px solid black;">Far
                                                    </th>
                                                    <th colspan="1" style="text-align:center; border:1px solid black;">
                                                        Close
                                                    </th>
                                                    <th colspan="1" style="text-align:center; border:1px solid black;">Far
                                                    </th>
                                                    <th colspan="1" style="text-align:center; border:1px solid black;">
                                                        Close
                                                    </th>
                                                    <th style="text-align:center; border:1px solid black;">Tonometria</th>
                                                </tr>
                                                <tr>
                                                    <th style="border:1px solid black; text-align:center;">Right
                                                        Foot
                                                    </th>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="r_wc_far"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="r_wc_close"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="r_woc_far"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="r_woc_close"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="r_tonometria"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th style="border:1px solid black; text-align:center;">Left
                                                        Foot
                                                    </th>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="l_wc_far"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="l_wc_close"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="l_woc_far"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="l_woc_close"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="l_tonometria"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th style="border:1px solid black; text-align:center;">A/D</th>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="ad_wc_far"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="ad_wc_close"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="ad_woc_far"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="ad_woc_close"/>
                                                    </td>
                                                    <td style="border:1px solid black; text-align:center;">
                                                        <field name="ad_tonometria"/>
                                                    </td>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                    <div class="col-4">
                                        <table cellspacing="0" cellpadding="0" style="border:1px solid; width:100% ">
                                            <thead>
                                                <tr>
                                                    <th style="text-align:center; border:1px solid black; width:50%;">PH
                                                    </th>
                                                    <th style="text-align:center; border:1px solid black; width:50%;">CIE
                                                        10
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td style="text-align:center; border:1px solid black; width:50%;">
                                                        <field name="ph"/>
                                                    </td>
                                                    <td style="text-align:center; border:1px solid black; width:50%;">
                                                        <field name="lt_cap_size"/>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <group>
                                    <group>
                                        <field name="main_symptoms"/>
                                        <field name="podiatry_exam"/>
                                        <field name="other_exams"/>
                                    </group>
                                    <group>
                                        <field name="background"/>
                                        <field name="treatment"/>
                                        <field name="observations"/>
                                    </group>
                                </group> -->
                            </page>
                            <page name="notes" string="Notes">
                                <group>
                                    <group>
                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="pathology_client" placeholder="Pathology Notes"></field>
                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="internal_notes" placeholder="Internal Notes"></field>
                                        <field attrs="{'readonly': [('state','=','confirm')]}" name="practitioner_notes" placeholder="Practitioner Notes"></field>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="podiatry_prescription_tree_view" model="ir.ui.view">
            <field name="name">Prescription Tree View</field>
            <field name="model">podiatry.prescription</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name" />
                    <field name="practitioner_id"/>
                    <field name="customer"/>
                    <field name="prescription_date" string="Prescription Date"/>
                    <field name="device_type"/>
                    <field name="prescription_type"/>
                    <button name="print_prescription_report_ticket_size" class="oe_highlight" string="Print Measure" type="object"></button>
                    <button name="print_podiatry_prescription_report_ticket_size" class="oe_highlight" string="Print Ophtalmologic" type="object"></button>
                </tree>
            </field>
        </record>

        <record id="action_prescription_window" model="ir.actions.act_window">
            <field name="name">Prescription</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">podiatry.prescription</field>
            <field name="view_mode">kanban,tree,form</field>
        </record>

        <menuitem id="pod_erp_root" name="POD ERP" sequence="1" web_icon="pod_erp,static/description/icon.png"/>
        <menuitem id="pod_erp_practice" name="Practice" parent="pod_erp_root" action="action_practice_window" groups="group_pod_erp_practices,base.group_system" sequence="1"/>
        <menuitem id="pod_erp_practitioner" name="Practitioner" parent="pod_erp_root" action="action_practitioner_window" groups="group_pod_erp_practitioners,base.group_system" sequence="2"/>
        <menuitem id="pod_erp_patient" name="Patient" parent="pod_erp_root" action="action_patient_window" groups="group_pod_erp_practitioners,base.group_system" sequence="3"/>
        <menuitem id="pod_erp_prescription" name="Prescription" parent="pod_erp_root" action="action_prescription_window" groups="group_pod_erp_practitioners,base.group_system" sequence="4"/>
        <menuitem id="pod_erp_customer" name="Customer" parent="pod_erp_root" action="base.action_partner_customer_form" sequence="5"/>
        <menuitem id="pod_erp_sale_order" name="Sale Order" parent="pod_erp_root" action="sale.action_orders" sequence="6"/>
        <menuitem id="pod_erp_config" name="Configuration" parent="pod_erp_root" sequence="7"/>


    </data>
</odoo>
