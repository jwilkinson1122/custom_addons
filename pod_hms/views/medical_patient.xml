<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="medical_patients_form_view" model="ir.ui.view">
        <field name="name">medical.patients.form.view</field>
        <field name="model">medical.patient</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="print_report" type="object" string="Print Patient Card" class="oe_highlight" />
                </header>
                <sheet>

                    <div class="oe_button_box" name="button_box">
                        <button name="open_patient_prescriptions" class="oe_stat_button" type="object" icon="fa-tasks">
                            <field string="Prescription" name="prescription_count" widget="statinfo"/>
                        </button>
                    </div>
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
                    <!-- <field name="image_1920" widget='image' class="oe_avatar" options='{"preview_image": "image_1920"}'/> -->

                    <group>
                        <field name="name" default_focus="1"/>

                        <!-- <field name="name" /> -->
                        <div class="oe_title">
                            <!-- <div class="oe_edit_only">
                                <label for="patient_id" />
                            </div> -->
                            <field name="active" invisible="1"/>
                            <h1>
                                <field name="patient_id" default_focus="1" placeholder="Patient Name" context="{'default_is_patient': 1,'default_is_person': 1}" />
                            </h1>
                        </div>
                        <field name="photo" nolabel="1" class="oe_right oe_avatar" options="{'size': [90, 90]}" widget="image" />
                    </group>

                    <group>
                        <group>
                            <field name="partner_address_id" invisible="1"/>
                            <label for="partner_address_id" name="partner_address_id"/>
                            <div class="o_address_format">
                                <field name="street" placeholder="Street..." class="o_address_street" />
                                <field name="street2" placeholder="Street 2..." class="o_address_street" />
                                <field name="city" placeholder="City" class="o_address_city" />
                                <field name="state_id" class="o_address_state" placeholder="State" options="{&quot;no_open&quot;: True}" />
                                <field name="zip_code" placeholder="ZIP" class="o_address_zip"/>
                                <field name="country_id" placeholder="Country" class="o_address_country"/>
                            </div>
                        </group>

                        <group>
                            <field name="primary_care_practitioner_id" />
                        

                        </group>
                    </group>

                    <group>
                        <separator colspan="4" string="Patient Critical Information" />
                        <newline />
                        <field colspan="2" name="patient_info" nolabel="1" />
                    </group>
                    <notebook>
                        <page string="General Information">
                            <group>
                                <group>
                                    <field name="gender" />
                                   
                                </group>
                                <group>
                                    <field name="date_of_birth" />
                                    <field name="age" readonly="1" />
                                </group>
                            </group>
                        </page>

                        <page string="Conditions">
                            <field name="patient_condition_ids" nolabel="1" widget="section_and_note_one2many"/>
                        </page>


                        <page string="Socioeconomics">
                            <notebook>
                                <page string="Main">
                                    <group string="General">
                                     
                                    </group>
                                    <group string="Infrastructure">
                                     
                                    </group>
                                    <group string="Extra Info">
                                        <field name="notes" nolabel="1" colspan = "2"/>
                                    </group>
                                </page>
                                <page string="Family">
                                    <group string="Family APGAR">
                                
                                    </group>
                                    <group string="Other Family Issues">
                                   
                                    </group>
                                </page>
                            </notebook>
                        </page>
                        <page string="Gyneco / Obs" attrs="{'invisible':[('gender','=','m')]}">
                            <group string="Gyneco">
                                <group string="General">
                                    
                                </group>
                                <group string="Prevention and Screening">
                                  
                                </group>
                            </group>
                            <group string="Obstetrics">
                          
                            </group>
                            <notebook>
                                <page string="Perinatal">
                                </page>
                            </notebook>
                        </page>

                        <page string="Lifestyle">
                            <notebook>
                                <page string="Diet and Excersice">
                                    <group>
                                        <group string="Physical Excersise">
                      
                                        </group>
                                        <group string="Sleep">
                                           
                                        </group>
                                    </group>
                                    <group string="Diet info">
                                    
                                    </group>
                                    <group string="Lifestyle Information">
                                    </group>
                                </page>
                                <page string="Addictions">
                                    <notebook>
                                        <page string="Main">
                             
                                        </page>
                                    </notebook>
                                </page>

                                <page string="Genderuality">
                            
                                </page>

                                <page string="Safety">
                                   
                                </page>
                            </notebook>
                        </page>


                        <page string="Device">
                            <field name="device_ids" widget="section_and_note_one2many">
                                <tree>
                                    <field name="medical_product_id" />
                                    <field name="pathology_id" />
                                    <field name="prescription_date" />
                                    <field name="is_active" />
                                    <field name="practitioner_practitioner_id" />
                                </tree>
                            </field>
                        </page>
                        <page string="Vaccinations">
                           
                        </page>


                    </notebook>
                </sheet>
            </form>

        </field>
    </record>

    <record id="medical_patients_tree_view" model="ir.ui.view">
        <field name="name">medical.patients.tree.view</field>
        <field name="model">medical.patient</field>
        <field name="arch" type="xml">
            <tree string="Patient Information">
                <field name="name" />
                <field name="patient_id" />
                <field name="gender" />
                <field name="date_of_birth" />
                <field name="primary_care_practitioner_id" />
            </tree>
        </field>
    </record>

    <record id="action_medical_patient" model="ir.actions.act_window">
        <field name="name">Patients</field>
        <field name="res_model">medical.patient</field>
        <field name="binding_view_types">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- <menuitem id="menu_medical_patient_code" action="action_medical_patient" parent="menu_patients" sequence="0" /> -->

    <record id="action_view_priscription_id2" model="ir.actions.act_window">
        <field name="name">Prescription Orders</field>
        <field name="res_model">medical.prescription.order</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('patient_id', '=', active_id)]</field>
    </record>


</odoo>
