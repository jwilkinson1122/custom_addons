<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">
    <t name="prescription_stock.ForecastedDetails" t-inherit="stock.ForecastedDetails" t-inherit-mode="extension">
        <xpath expr="//tr[@name='draft_picking_out']" position="after">
            <tr t-if="props.docs.draft_prescription_qty" name="draft_so_out" t-attf-class="#{props.docs.draft_prescriptions_matched and 'o_grid_match'}">
                <td colspan="2">Prescription</td>
                <td t-out="_formatFloat(-props.docs.draft_prescription_qty)" class="text-end"/>
                <td>
                    <t t-foreach="props.docs.draft_prescriptions" t-as="prescription" t-key="prescription_index">
                        <t t-if="prescription_index > 0"> | </t>
                        <a t-attf-href="#" t-out="prescription.name"
                            class="fw-bold"
                            t-on-click.prevent="() => this.props.openView('prescription', 'form', prescription.id)"/>
                    </t>
                </td>
            </tr>
        </xpath>
        <xpath expr="//td[@name='usedby_cell']" position="inside">
            <span t-if="line.move_out and line.move_out.picking_id and line.move_out.picking_id.prescription_id">
                | <span t-out="_formatMonetary(line.move_out.picking_id.prescription_id.amount_untaxed, line.move_out.picking_id.prescription_id.currency_id.id)" class="fw-bold"/>
                | <span t-out="line.move_out.picking_id.prescription_id.partner_id.name"/>
            </span>
        </xpath>
    </t>
</templates>
