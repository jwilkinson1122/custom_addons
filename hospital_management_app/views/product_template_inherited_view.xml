<?xml version="1.0" encoding="utf-8"?>
<odoo>

<!--************* PRODUCT TEMPLATE(BLOOD) **********-->
    <record id="product_template_blood_form_inherit" model="ir.ui.view">
		<field name="name">product.template.form.inherit</field>
		<field name="model">product.template</field>
		<field name="inherit_id" ref="product.product_template_only_form_view"/>
		<field name="arch" type="xml">
			<xpath expr="//field[@name='categ_id']" position="after">
                <field name="is_food" invisible="1"/>
			</xpath>
		</field>
	</record>

    <!--************* PRODUCT TEMPLATE(FOOD) **********-->

     <record id="action_product_canteen_food" model="ir.actions.act_window">
        <field name="name">Foods</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">product.template</field>
        <field name="domain">[('is_food', '=', True)]</field>
        <field name="context">{'default_is_food':True}</field>
        <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <menuitem id="main_menu_canteen"
              groups="group_canteen_management"
              name='Canteen'
              parent="main_menu_hospital_management"
              sequence="6" />

     <menuitem id="menu_product_food"
               groups="group_canteen_management"
               name="Foods"
               parent="main_menu_canteen"
               action="action_product_canteen_food"
                sequence="1" />


<!--************* PRODUCT TEMPLATE(MEDICINE) **********-->

    <record id="action_product_medicine" model="ir.actions.act_window">
        <field name="name">Medicine</field>
        <field name="type">ir.actions.act_window</field>
        <field name="domain">[('is_food', '=', False)]</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">kanban,tree,form,activity</field>
    </record>

    <menuitem id="main_menu_pharmacy"
              name='Pharmacy'
              parent="main_menu_hospital_management"
              groups="group_pharmacy_management"
              sequence="5" />

     <menuitem id="menu_product_medicine"
               name="Medicine"
               parent="main_menu_pharmacy"
               groups="group_pharmacy_management"
               action="action_product_medicine"
               sequence="1" />

<!--************* SALE ORDER  **********-->

    <record id="action_medicine_quotation" model="ir.actions.act_window">
        <field name="name">Quotation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="context">{'search_default_my_quotation': 1}</field>
        <field name="res_model">sale.order</field>
        <field name="view_id" ref="sale.view_quotation_tree_with_onboarding"/>
        <field name="search_view_id" ref="sale.sale_order_view_search_inherit_quotation"/>
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
    </record>

    <menuitem id="main_menu_medicine_sale_order"
              groups="group_pharmacy_management"
              name='Sales'
              parent="main_menu_pharmacy"
              sequence="2" />

     <menuitem id="menu_medicine_quotation"
               groups="group_pharmacy_management"
               name="Quotation"
               parent="main_menu_medicine_sale_order"
               action="action_medicine_quotation"
               sequence="1" />

    <record id="action_medicine_sale_order" model="ir.actions.act_window">
        <field name="name">Sale Order</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="domain">[('state', 'not in', ('draft', 'sent', 'cancel'))]</field>
        <field name="view_id" ref="sale.view_order_tree"/>
        <field name="search_view_id" ref="sale.sale_order_view_search_inherit_sale"/>
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
    </record>
     <menuitem id="menu_medicine_sale_order"
               groups="group_pharmacy_management"
               name="Sale Order"
               parent="main_menu_medicine_sale_order"
               action="action_medicine_sale_order"
               sequence="2" />

    <!--************* PURCHASE ORDER **********-->


    <record id="action_medicine_po_quotation" model="ir.actions.act_window">
        <field name="name">Request For Quotation</field>
        <field name="type">ir.actions.act_window</field>
        <field name="domain">[('state','in',['draft','sent'])]</field>
        <field name="context">{'quotation_only': True}</field>
        <field name="res_model">purchase.order</field>
        <field name="view_id" ref="purchase.purchase_order_tree"/>
        <field name="search_view_id" ref="purchase.view_purchase_order_filter"/>
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
    </record>

    <menuitem id="main_menu_medicine_purchase_order"
              groups="group_pharmacy_management"
              name='Purchase'
              parent="main_menu_pharmacy"
              sequence="3" />

     <menuitem id="menu_medicine_po_quotation"
               groups="group_pharmacy_management"
               name="Request For Quotation"
               parent="main_menu_medicine_purchase_order"
               action="action_medicine_po_quotation"
               sequence="1" />

    <record id="action_medicine_purchase_order" model="ir.actions.act_window">
        <field name="name">Purchase Order</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">purchase.order</field>
        <field name="domain">[('state','in',('purchase', 'done'))]</field>
        <field name="view_id" ref="purchase.purchase_order_view_tree"/>
        <field name="search_view_id" ref="purchase.purchase_order_view_search"/>
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
    </record>
     <menuitem id="menu_medicine_purchase_order"
               groups="group_pharmacy_management"
               name="Purchase Order"
               parent="main_menu_medicine_purchase_order"
               action="action_medicine_purchase_order"
               sequence="2" />
    

</odoo>