<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="bom_report_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">


                    <style>
                        table {
                        border-collapse: collapse;
                        width: 100%;
                        font-size: 12px;
                        }
                        th{
                            border: 1px solid black;
                            background-color:#2D68C4;
                            color: white;
                        }

                        th, td {
                        text-align: left;
                        padding: 5px;
                        border: 1px solid black;
                        }

                        .box {
                        float: left;
                        width: 20%;
                        padding: 2px;
                        font-weight: bold;
                        font-size: 13px;
                        }

                         .information {
                        float: left;
                        width: 30%;
                        padding: 2px;
                        font-size: 13px;
                        }
                        .information1 {
                        float: left;
                        width: 30%;
                        padding: 2px;
                        font-size: 13px;
                        }

                        .clearfix::after {
                        content: "";
                        clear: both;
                        display: table;
                        }

                    </style>
                    <div style="width: 100%; padding:10px;"
                         class="text-center">
                        <span class="block">
                            <u>EMBROIDERY BIL OF MATERIAL REPORT</u>
                        </span>
                        <br/>
                    </div>

                    <!-- this part for information left right div -->
                    <div class="clearfix">
                        <div class="box" style="">
                            <span>Customer</span>
                            <br/>
                            <span>Product Name</span>
                            <br/>
                            <span>Total Repeats</span>
                            <br/>
                            <span>Total Fabric</span>
                            <br/>
                            <span>Production stitches</span>
                        </div>

                         <div class="information1" style="">
                            <span t-field="o.partner_id.name"/>
                             <br/>
                            <span t-field="o.product_tmpl_id"/>
                             <br/>
                            <span t-field="o.total_repeats"/>
                             <br/>
                             <span t-field="o.total_fabric"/>
                             <br/>
                            <span t-field="o.production_stitches"/>
                        </div>

                        <div class="box" style="">
                            <span>Employee</span>
                            <br/>
                            <span>Reference</span>
                            <br/>
                            <span>Bom Type</span>
                            <br/>
                            <span>Fabric Height</span>
                            <br/>
                            <span>Design Height</span>
                        </div>

                        <div class="information" style="">
                            <span t-field="o.company_id.name"/>
                            <br/>
                            <span t-field="o.code"/>
                            <br/>
                            <span t-field="o.type"/>
                            <br/>
                            <span t-field="o.fabric_height"/>
                            <br/>
                            <span t-field="o.design_height"/>
                        </div>
                    </div>
                    <p>&#160;</p>
                    <!-- end -->


                    <!-- table part -->
                    <div style="overflow-x: auto;" class="page">
                        <table>
                            <thead>
                            <tr>
                                <th>Components</th>
                                <th>Attach</th>
                                <th>Unit Of Measure</th>
                                <th>Total</th>
                            </tr>
                            </thead>
                            <t t-set="sum_cones" t-value="0"/>
                            <tr t-foreach="o.bom_line_ids" t-as="line">
                                <td><span t-field="line.product_id.name"/></td>
                                <td><span t-field="line.attach"/></td>
<!--                                <t t-foreach="product_id.attribute_line_ids" t-as="variant">-->
                                    <td><span t-field="line.product_id.uom_id.name"/></td>
<!--                                </t>-->
                                <td><span t-field="line.total_cones"/><t t-set="sum_cones" t-value="sum_cones + line.total_cones"/></td>
                            </tr>
                            <!-- total part -->
                            <tr>
                                <th>Total</th>
                                <th></th>
                                <th></th>
                                <th><span t-esc="sum_cones"/></th>
                            </tr>
                            <!-- End -->
                        </table>
                    </div>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <div style="width: 25%;float:left; padding:10px;">
                        <tr>
                            <td>
                                <strong>__________________________</strong>
                                <br/>
                                <span>
                                    <i>
                                        &#160;&#160;&#160;&#160;&#160;<strong>Inventory Controller</strong>
                                    </i>
                                    <br/>
                                </span>
                            </td>
                        </tr>
                    </div>
                    <div style="width: 25%;float:left; padding:10px;">
                        <tr>
                            <td>
                                <strong>___________________</strong>
                                <br/>
                                <span>
                                    <i>
                                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>Master</strong>
                                    </i>
                                    <br/>
                                </span>
                            </td>
                        </tr>
                    </div>
                    <div style="width: 25%;float:left; padding:10px;">
                        <tr>
                            <td>

                                <strong>_____________________________</strong>
                                <br/>
                                <span>
                                    <i>
                                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>Embroidery Manager</strong>
                                    </i>
                                    <br/>
                                </span>
                            </td>
                        </tr>
                    </div>
                    <div style="width: 25%;float:left; padding:10px;">
                        <tr>
                            <td>
                                &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>
                                ___________________
                            </strong>
                                <br/>
                                <span>
                                    <i>
                                        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<strong>
                                        Director
                                    </strong>
                                    </i>
                                    <br/>
                                </span>
                            </td>
                        </tr>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>